(()=>{var e={};e.id=5158,e.ids=[5158],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},1744:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(1084),r(9030),r(5866);var s=r(3191),a=r(8716),i=r(7922),n=r.n(i),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["story-templates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1084)),"/home/ubuntu/em-interview-prep/app/story-templates/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9030)),"/home/ubuntu/em-interview-prep/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/ubuntu/em-interview-prep/app/story-templates/page.tsx"],u="/story-templates/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/story-templates/page",pathname:"/story-templates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9876:(e,t,r)=>{Promise.resolve().then(r.bind(r,9178)),Promise.resolve().then(r.bind(r,3111))},3111:(e,t,r)=>{"use strict";r.d(t,{StoryTemplatesClient:()=>b});var s=r(326),a=r(7577),i=r(3071),n=r(772),o=r(4432),l=r(7673),c=r(567),d=r(613),u=r(4215),m=r(3468),h=r(4802),p=r(6343),f=r(3855),x=r(8307),g=r(9508),y=r(8091),j=r(4474);function b({userStories:e,userId:t}){let[r,b]=(0,a.useState)(e),[v,w]=(0,a.useState)(""),[N,k]=(0,a.useState)("all"),[R,S]=(0,a.useState)(!1),[C,M]=(0,a.useState)(null),[P,_]=(0,a.useState)(!1),{toast:Z}=(0,u.pm)(),[O,T]=(0,a.useState)({title:"",situation:"",task:"",action:"",result:"",reflection:"",tags:"",categories:""}),E=[...new Set(r.flatMap(e=>e.categories))].sort(),A=r.filter(e=>{let t=""===v||e.title.toLowerCase().includes(v.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(v.toLowerCase()))||e.categories.some(e=>e.toLowerCase().includes(v.toLowerCase())),r="all"===N||e.categories.includes(N);return t&&r}),D=()=>{T({title:"",situation:"",task:"",action:"",result:"",reflection:"",tags:"",categories:""}),M(null)},q=e=>{M(e),T({title:e.title,situation:e.situation,task:e.task,action:e.action,result:e.result,reflection:e.reflection||"",tags:e.tags.join(", "),categories:e.categories.join(", ")}),S(!0)},F=async e=>{if(e.preventDefault(),!O.title.trim()||!O.situation.trim()||!O.task.trim()||!O.action.trim()||!O.result.trim()){Z({title:"Error",description:"Please fill in all required STAR fields.",variant:"destructive"});return}_(!0);try{let e={title:O.title.trim(),situation:O.situation.trim(),task:O.task.trim(),action:O.action.trim(),result:O.result.trim(),reflection:O.reflection.trim()||null,tags:O.tags.split(",").map(e=>e.trim()).filter(e=>e),categories:O.categories.split(",").map(e=>e.trim()).filter(e=>e)},t=C?`/api/stories/${C.id}`:"/api/stories",s=await fetch(t,{method:C?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok){let e=await s.json();C?(b(r.map(t=>t.id===C.id?e:t)),Z({title:"Success",description:"Story updated successfully."})):(b([e,...r]),Z({title:"Success",description:"Story created successfully."})),S(!1),D()}else throw Error("Failed to save story")}catch(e){Z({title:"Error",description:"Failed to save story. Please try again.",variant:"destructive"})}finally{_(!1)}},I=async e=>{if(confirm("Are you sure you want to delete this story?"))try{if((await fetch(`/api/stories/${e}`,{method:"DELETE"})).ok)b(r.filter(t=>t.id!==e)),Z({title:"Success",description:"Story deleted successfully."});else throw Error("Failed to delete story")}catch(e){Z({title:"Error",description:"Failed to delete story. Please try again.",variant:"destructive"})}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(i.Zb,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950",children:[(0,s.jsxs)(i.Ol,{children:[(0,s.jsxs)(i.ll,{className:"flex items-center gap-2",children:[s.jsx(m.Z,{className:"h-5 w-5"}),"STAR Method Guide"]}),s.jsx(i.SZ,{children:"Structure your behavioral interview stories using the STAR framework"})]}),s.jsx(i.aY,{children:(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 text-white rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"S"}),s.jsx("h3",{className:"font-semibold",children:"Situation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Set the context and background"})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 text-white rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"T"}),s.jsx("h3",{className:"font-semibold",children:"Task"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Describe your responsibility"})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-500 text-white rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"A"}),s.jsx("h3",{className:"font-semibold",children:"Action"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Explain what you did"})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-500 text-white rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"R"}),s.jsx("h3",{className:"font-semibold",children:"Result"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share the outcome and impact"})]})]})})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{children:[(0,s.jsxs)(i.ll,{className:"flex items-center gap-2",children:[s.jsx(h.Z,{className:"h-5 w-5"}),"Story Templates"]}),s.jsx(i.SZ,{children:"Use these templates to get started with common EM interview scenarios"})]}),s.jsx(i.aY,{children:s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[{title:"Leadership Challenge",categories:["Leadership","Team Management"],tags:["conflict resolution","team building","decision making"],example:{situation:"Describe a challenging team situation you faced as a leader",task:"What was your responsibility or goal in this situation?",action:"What specific actions did you take to address the challenge?",result:"What was the outcome? Include metrics if possible."}},{title:"Technical Decision",categories:["Technical Leadership","Architecture"],tags:["system design","technical debt","scalability"],example:{situation:"Describe a complex technical decision you had to make",task:"What problem were you trying to solve?",action:"How did you evaluate options and make the decision?",result:"What was the impact of your decision?"}},{title:"Cross-functional Collaboration",categories:["Collaboration","Communication"],tags:["stakeholder management","alignment","influence"],example:{situation:"Describe a time when you had to work with multiple teams",task:"What was the shared goal or challenge?",action:"How did you facilitate collaboration and alignment?",result:"What was achieved through this collaboration?"}}].map((e,t)=>(0,s.jsxs)(i.Zb,{className:"border-dashed",children:[(0,s.jsxs)(i.Ol,{className:"pb-3",children:[s.jsx(i.ll,{className:"text-lg",children:e.title}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.categories.map((e,t)=>s.jsx(c.C,{variant:"secondary",className:"text-xs",children:e},t))})]}),(0,s.jsxs)(i.aY,{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"text-sm space-y-1",children:[(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"S:"})," ",e.example.situation]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"T:"})," ",e.example.task]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"A:"})," ",e.example.action]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"R:"})," ",e.example.result]})]}),s.jsx(n.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{T({title:e.title,situation:"",task:"",action:"",result:"",reflection:"",tags:e.tags.join(", "),categories:e.categories.join(", ")}),S(!0)},children:"Use Template"})]})]},t))})})]}),(0,s.jsxs)(i.Zb,{children:[s.jsx(i.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(i.ll,{className:"flex items-center gap-2",children:[s.jsx(p.Z,{className:"h-5 w-5"}),"My Stories (",r.length,")"]}),(0,s.jsxs)(d.Vq,{open:R,onOpenChange:S,children:[s.jsx(d.hg,{asChild:!0,children:(0,s.jsxs)(n.z,{onClick:D,children:[s.jsx(f.Z,{className:"h-4 w-4 mr-2"}),"New Story"]})}),(0,s.jsxs)(d.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(d.fK,{children:[s.jsx(d.$N,{children:C?"Edit Story":"Create New Story"}),s.jsx(d.Be,{children:"Use the STAR method to structure your behavioral interview story"})]}),(0,s.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Story Title *"}),s.jsx(o.I,{placeholder:"e.g., Led team through major system migration",value:O.title,onChange:e=>T({...O,title:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Categories"}),s.jsx(o.I,{placeholder:"e.g., Leadership, Technical",value:O.categories,onChange:e=>T({...O,categories:e.target.value})})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Tags"}),s.jsx(o.I,{placeholder:"e.g., team building, conflict resolution",value:O.tags,onChange:e=>T({...O,tags:e.target.value})})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Situation *"}),s.jsx(l.g,{placeholder:"Describe the context and background of the situation...",value:O.situation,onChange:e=>T({...O,situation:e.target.value}),rows:3,required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Task *"}),s.jsx(l.g,{placeholder:"What was your responsibility or what needed to be accomplished?",value:O.task,onChange:e=>T({...O,task:e.target.value}),rows:3,required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Action *"}),s.jsx(l.g,{placeholder:"Describe the specific actions you took to address the situation...",value:O.action,onChange:e=>T({...O,action:e.target.value}),rows:4,required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Result *"}),s.jsx(l.g,{placeholder:"What was the outcome? Include metrics and impact where possible...",value:O.result,onChange:e=>T({...O,result:e.target.value}),rows:3,required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Reflection (Optional)"}),s.jsx(l.g,{placeholder:"What did you learn? What would you do differently?",value:O.reflection,onChange:e=>T({...O,reflection:e.target.value}),rows:2})]}),s.jsx(n.z,{type:"submit",disabled:P,className:"w-full",children:P?"Saving...":C?"Update Story":"Create Story"})]})]})]})]})}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[s.jsx(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(o.I,{type:"text",placeholder:"Search stories...",value:v,onChange:e=>w(e.target.value),className:"pl-10"})]}),(0,s.jsxs)(j.Ph,{value:N,onValueChange:k,children:[s.jsx(j.i4,{className:"w-48",children:s.jsx(j.ki,{placeholder:"Category"})}),(0,s.jsxs)(j.Bw,{children:[s.jsx(j.Ql,{value:"all",children:"All Categories"}),E.map(e=>s.jsx(j.Ql,{value:e,children:e},e))]})]})]}),s.jsx("div",{className:"space-y-4",children:A.map(e=>(0,s.jsxs)(i.Zb,{children:[s.jsx(i.Ol,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx(i.ll,{className:"text-lg",children:e.title}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.categories.map((e,t)=>s.jsx(c.C,{variant:"secondary",children:e},t)),e.tags.map((e,t)=>s.jsx(c.C,{variant:"outline",className:"text-xs",children:e},t))]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>q(e),children:s.jsx(g.Z,{className:"h-4 w-4"})}),s.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>I(e.id),children:s.jsx(y.Z,{className:"h-4 w-4"})})]})]})}),(0,s.jsxs)(i.aY,{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Situation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.situation})]}),(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Task"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.task})]}),(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Action"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.action})]}),(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Result"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.result})]}),e.reflection&&(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Reflection"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.reflection})]})]})]},e.id))}),0===A.length&&(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx(p.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:0===r.length?"No stories yet. Create your first STAR story to get started!":"No stories found matching your search criteria."})]})]})]})]})}},613:(e,t,r)=>{"use strict";r.d(t,{Vq:()=>J,cZ:()=>er,Be:()=>ei,fK:()=>es,$N:()=>ea,hg:()=>ee});var s=r(326),a=r(7577),i=r(2561),n=r(8051),o=r(3095),l=r(8957),c=r(2067),d=r(825),u=r(441),m=r(3078),h=r(9815),p=r(5226),f=r(699),x=r(8260),g=r(5664),y=r(4214),j="Dialog",[b,v]=(0,o.b)(j),[w,N]=b(j),k=e=>{let{__scopeDialog:t,children:r,open:i,defaultOpen:n,onOpenChange:o,modal:d=!0}=e,u=a.useRef(null),m=a.useRef(null),[h=!1,p]=(0,c.T)({prop:i,defaultProp:n,onChange:o});return(0,s.jsx)(w,{scope:t,triggerRef:u,contentRef:m,contentId:(0,l.M)(),titleId:(0,l.M)(),descriptionId:(0,l.M)(),open:h,onOpenChange:p,onOpenToggle:a.useCallback(()=>p(e=>!e),[p]),modal:d,children:r})};k.displayName=j;var R="DialogTrigger",S=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,o=N(R,r),l=(0,n.e)(t,o.triggerRef);return(0,s.jsx)(p.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":U(o.open),...a,ref:l,onClick:(0,i.M)(e.onClick,o.onOpenToggle)})});S.displayName=R;var C="DialogPortal",[M,P]=b(C,{forceMount:void 0}),_=e=>{let{__scopeDialog:t,forceMount:r,children:i,container:n}=e,o=N(C,t);return(0,s.jsx)(M,{scope:t,forceMount:r,children:a.Children.map(i,e=>(0,s.jsx)(h.z,{present:r||o.open,children:(0,s.jsx)(m.h,{asChild:!0,container:n,children:e})}))})};_.displayName=C;var Z="DialogOverlay",O=a.forwardRef((e,t)=>{let r=P(Z,e.__scopeDialog),{forceMount:a=r.forceMount,...i}=e,n=N(Z,e.__scopeDialog);return n.modal?(0,s.jsx)(h.z,{present:a||n.open,children:(0,s.jsx)(T,{...i,ref:t})}):null});O.displayName=Z;var T=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,i=N(Z,r);return(0,s.jsx)(x.Z,{as:y.g7,allowPinchZoom:!0,shards:[i.contentRef],children:(0,s.jsx)(p.WV.div,{"data-state":U(i.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),E="DialogContent",A=a.forwardRef((e,t)=>{let r=P(E,e.__scopeDialog),{forceMount:a=r.forceMount,...i}=e,n=N(E,e.__scopeDialog);return(0,s.jsx)(h.z,{present:a||n.open,children:n.modal?(0,s.jsx)(D,{...i,ref:t}):(0,s.jsx)(q,{...i,ref:t})})});A.displayName=E;var D=a.forwardRef((e,t)=>{let r=N(E,e.__scopeDialog),o=a.useRef(null),l=(0,n.e)(t,r.contentRef,o);return a.useEffect(()=>{let e=o.current;if(e)return(0,g.Ry)(e)},[]),(0,s.jsx)(F,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,i.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,i.M)(e.onFocusOutside,e=>e.preventDefault())})}),q=a.forwardRef((e,t)=>{let r=N(E,e.__scopeDialog),i=a.useRef(!1),n=a.useRef(!1);return(0,s.jsx)(F,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||r.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"!==t.detail.originalEvent.type||(n.current=!0));let s=t.target;r.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),F=a.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=e,m=N(E,r),h=a.useRef(null),p=(0,n.e)(t,h);return(0,f.EW)(),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.M,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:l,children:(0,s.jsx)(d.XB,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":U(m.open),...c,ref:p,onDismiss:()=>m.onOpenChange(!1)})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y,{titleId:m.titleId}),(0,s.jsx)(X,{contentRef:h,descriptionId:m.descriptionId})]})]})}),I="DialogTitle",L=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,i=N(I,r);return(0,s.jsx)(p.WV.h2,{id:i.titleId,...a,ref:t})});L.displayName=I;var z="DialogDescription",W=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,i=N(z,r);return(0,s.jsx)(p.WV.p,{id:i.descriptionId,...a,ref:t})});W.displayName=z;var $="DialogClose",V=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=N($,r);return(0,s.jsx)(p.WV.button,{type:"button",...a,ref:t,onClick:(0,i.M)(e.onClick,()=>n.onOpenChange(!1))})});function U(e){return e?"open":"closed"}V.displayName=$;var B="DialogTitleWarning",[H,G]=(0,o.k)(B,{contentName:E,titleName:I,docsSlug:"dialog"}),Y=({titleId:e})=>{let t=G(B),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&!document.getElementById(e)&&console.error(r)},[r,e]),null},X=({contentRef:e,descriptionId:t})=>{let r=G("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return a.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&!document.getElementById(t)&&console.warn(s)},[s,e,t]),null},K=r(4019),Q=r(7863);let J=k,ee=S,et=a.forwardRef(({className:e,...t},r)=>s.jsx(O,{ref:r,className:(0,Q.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));et.displayName=O.displayName;let er=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(_,{children:[s.jsx(et,{}),(0,s.jsxs)(A,{ref:a,className:(0,Q.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,s.jsxs)(V,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(K.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));er.displayName=A.displayName;let es=({className:e,...t})=>s.jsx("div",{className:(0,Q.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});es.displayName="DialogHeader";let ea=a.forwardRef(({className:e,...t},r)=>s.jsx(L,{ref:r,className:(0,Q.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));ea.displayName=L.displayName;let ei=a.forwardRef(({className:e,...t},r)=>s.jsx(W,{ref:r,className:(0,Q.cn)("text-sm text-muted-foreground",e),...t}));ei.displayName=W.displayName},7673:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var s=r(326),a=r(7577),i=r(7863);let n=a.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));n.displayName="Textarea"},9734:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},3062:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},9163:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]])},4802:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},1810:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},748:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},9730:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},2607:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},3855:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8307:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9508:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},850:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},3468:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},8091:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5047:(e,t,r)=>{"use strict";var s=r(7389);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},1084:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,dynamic:()=>d});var s=r(9510),a=r(5786),i=r(8585),n=r(2663),o=r(2427);let l=(0,r(7162).Z)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),c=(0,r(8570).createProxy)(String.raw`/home/ubuntu/em-interview-prep/components/story-templates/story-templates-client.tsx#StoryTemplatesClient`),d="force-dynamic";async function u(){let e=await (0,a.Gg)();e||(0,i.redirect)("/login");let t=await n._.story.findMany({where:{userId:e.id},orderBy:{createdAt:"desc"}});return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[s.jsx(o.h,{user:e}),s.jsx("main",{className:"container mx-auto px-4 py-8 max-w-7xl",children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(l,{className:"h-8 w-8 text-primary"}),s.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Story Templates"})]}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Create and manage your STAR stories for behavioral interview questions"})]}),s.jsx(c,{userStories:t,userId:e.id})]})})]})}},2427:(e,t,r)=>{"use strict";r.d(t,{h:()=>s});let s=(0,r(8570).createProxy)(String.raw`/home/ubuntu/em-interview-prep/components/layout/header.tsx#Header`)},5786:(e,t,r)=>{"use strict";r.d(t,{Gg:()=>d,Gv:()=>l,RA:()=>h,c_:()=>o,ed:()=>c,mk:()=>m,sd:()=>u});var s=r(2023),a=r.n(s),i=r(1615),n=r(2663);async function o(e){return a().hash(e,12)}async function l(e,t){return a().compare(e,t)}async function c(e){let t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);return(0,i.cookies)().set("session",`${e}:${t}`,{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:604800}),t}async function d(){try{let e=(0,i.cookies)().get("session");if(!e?.value)return null;let[t]=e.value.split(":");if(!t)return null;return await n._.user.findUnique({where:{id:t},select:{id:!0,username:!0,isAdmin:!0,preferences:!0}})}catch(e){return console.error("Session error:",e),null}}async function u(){(0,i.cookies)().delete("session")}async function m(){let e=await d();if(!e)throw Error("Authentication required");return e}async function h(e){try{let t=e.headers.get("cookie");if(!t)return null;let r=t.split(";").reduce((e,t)=>{let[r,s]=t.trim().split("=");return e[r]=s,e},{}).session;if(!r)return null;let[s]=r.split(":");if(!s)return null;return await n._.user.findUnique({where:{id:s},select:{id:!0,username:!0,isAdmin:!0,preferences:!0}})}catch(e){return console.error("Auth verification error:",e),null}}},2663:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});let s=require("@prisma/client"),a=globalThis.prisma??new s.PrismaClient},7162:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(1159);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(...e)=>e.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...d},u)=>(0,s.createElement)("svg",{ref:u,...n,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:i("lucide",o),...d},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...n},l)=>(0,s.createElement)(o,{ref:l,iconNode:t,className:i(`lucide-${a(e)}`,r),...n}));return r.displayName=`${e}`,r}},8585:(e,t,r)=>{"use strict";var s=r(1085);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}})},1085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return n},RedirectType:function(){return s.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=r(3953),a=r(6399);class i extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class n extends URLSearchParams{append(){throw new i}delete(){throw new i}set(){throw new i}sort(){throw new i}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return a},notFound:function(){return s}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3953:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return h},getURLFromRedirectError:function(){return m},isRedirectError:function(){return u},permanentRedirect:function(){return d},redirect:function(){return c}});let a=r(4580),i=r(2934),n=r(8586),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let s=Error(o);s.digest=o+";"+t+";"+e+";"+r+";";let i=a.requestAsyncStorage.getStore();return i&&(s.mutableCookies=i.mutableCookies),s}function c(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?n.RedirectStatusCode.SeeOther:n.RedirectStatusCode.TemporaryRedirect)}function d(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?n.RedirectStatusCode.SeeOther:n.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,s,a]=e.digest.split(";",4),i=Number(a);return t===o&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(i)&&i in n.RedirectStatusCode}function m(e){return u(e)?e.digest.split(";",3)[2]:null}function h(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function p(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,4028,6547,3925,4031,9178],()=>r(1744));module.exports=s})();