"use strict";(()=>{var e={};e.id=2566,e.ids=[2566],e.modules={3524:e=>{e.exports=require("@prisma/client")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4770:e=>{e.exports=require("crypto")},8431:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>w,patchFetch:()=>h,requestAsyncStorage:()=>f,routeModule:()=>l,serverHooks:()=>y,staticGenerationAsyncStorage:()=>g});var s={};t.r(s),t.d(s,{GET:()=>c,POST:()=>p,dynamic:()=>m});var n=t(9303),a=t(8716),o=t(670),i=t(7070),u=t(9487),d=t(4673);let m="force-dynamic";async function c(e){try{let{searchParams:r}=new URL(e.url),t=r.get("category"),s=await u._.system_design_frameworks.findMany({where:t?{category:t}:{},orderBy:[{difficulty:"asc"},{name:"asc"}]});return i.NextResponse.json(s)}catch(e){return console.error("System design frameworks fetch error:",e),i.NextResponse.json({error:"Failed to fetch system design frameworks"},{status:500})}}async function p(e){try{let{name:r,description:t,category:s,keyPrinciples:n,useCases:a,tradeoffs:o,examples:m,resources:c,difficulty:p}=await e.json();if(!r||!t||!s)return i.NextResponse.json({error:"Name, description, and category are required"},{status:400});let l=await u._.system_design_frameworks.create({data:{id:(0,d.Z)(),name:r,description:t,category:s,key_principles:n||[],use_cases:a||[],tradeoffs:o||[],examples:m||[],resources:c||[],difficulty:p||"medium",created_at:new Date,updated_at:new Date}});return i.NextResponse.json({message:"System design framework created successfully",framework:l})}catch(e){return console.error("System design framework creation error:",e),i.NextResponse.json({error:"Failed to create system design framework"},{status:500})}}let l=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/system-design-frameworks/route",pathname:"/api/system-design-frameworks",filename:"route",bundlePath:"app/api/system-design-frameworks/route"},resolvedPagePath:"/home/ubuntu/em-interview-prep/app/api/system-design-frameworks/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:f,staticGenerationAsyncStorage:g,serverHooks:y}=l,w="/api/system-design-frameworks/route";function h(){return(0,o.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:g})}},9487:(e,r,t)=>{t.d(r,{_:()=>n});var s=t(3524);let n=globalThis.prisma??new s.PrismaClient},4673:(e,r,t)=>{t.d(r,{Z:()=>u});var s=t(4770);let n={randomUUID:s.randomUUID},a=new Uint8Array(256),o=a.length,i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));let u=function(e,r,t){if(n.randomUUID&&!r&&!e)return n.randomUUID();let u=(e=e||{}).random??e.rng?.()??(o>a.length-16&&((0,s.randomFillSync)(a),o=0),a.slice(o,o+=16));if(u.length<16)throw Error("Random bytes length must be >= 16");if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,r){if((t=t||0)<0||t+16>r.length)throw RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let e=0;e<16;++e)r[t+e]=u[e];return r}return function(e,r=0){return(i[e[r+0]]+i[e[r+1]]+i[e[r+2]]+i[e[r+3]]+"-"+i[e[r+4]]+i[e[r+5]]+"-"+i[e[r+6]]+i[e[r+7]]+"-"+i[e[r+8]]+i[e[r+9]]+"-"+i[e[r+10]]+i[e[r+11]]+i[e[r+12]]+i[e[r+13]]+i[e[r+14]]+i[e[r+15]]).toLowerCase()}(u)}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9276,5972],()=>t(8431));module.exports=s})();