(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[926],{6321:function(e,s,t){Promise.resolve().then(t.bind(t,7411)),Promise.resolve().then(t.bind(t,5456))},5456:function(e,s,t){"use strict";t.d(s,{ProgressTrackerClient:function(){return g}});var a=t(7437),l=t(2265),r=t(6070),n=t(5974),i=t(2759),c=t(2339),d=t(3417),o=t(1769),m=t(525),x=t(3327),u=t(8896),h=t(6215),f=t(1047);function g(e){let{userStories:s,userAnswers:t,companies:g,questions:j}=e,[p,N]=(0,l.useState)("all"),v=(0,l.useMemo)(()=>{let e=j.length,a=t.length,l=s.length,r=g.map(e=>{let s=e.questions.length,a=t.filter(s=>s.question.company.id===e.id).length;return{name:e.name,total:s,answered:a,percentage:s>0?Math.round(a/s*100):0}}),n=[...new Set(j.map(e=>e.category))].map(e=>{let s=j.filter(s=>s.category===e).length,a=t.filter(s=>s.question.category===e).length;return{name:e,total:s,answered:a,percentage:s>0?Math.round(a/s*100):0}}),i=[...new Set(j.map(e=>e.difficulty))].map(e=>{let s=j.filter(s=>s.difficulty===e).length,a=t.filter(s=>s.question.difficulty===e).length;return{name:e,total:s,answered:a,percentage:s>0?Math.round(a/s*100):0}}),c=[...new Set(s.flatMap(e=>e.categories))].length,d=new Date;return d.setDate(d.getDate()-30),{overall:{questionsAnswered:a,totalQuestions:e,questionsPercentage:e>0?Math.round(a/e*100):0,storiesCreated:l,storyCategoriesCovered:c},companies:r,categories:n,difficulties:i,recent:{answers:t.filter(e=>new Date(e.createdAt)>=d).length,stories:s.filter(e=>new Date(e.createdAt)>=d).length}}},[s,t,g,j]),y=e=>{switch(e.toLowerCase()){case"meta":return"bg-blue-500";case"amazon":return"bg-orange-500";case"google":return"bg-green-500";default:return"bg-gray-500"}},w=e=>{switch(e.toLowerCase()){case"easy":return"text-green-600";case"medium":return"text-yellow-600";case"hard":return"text-red-600";default:return"text-gray-600"}},b=(0,l.useMemo)(()=>Array.from({length:7},(e,s)=>{let t=new Date;return t.setDate(t.getDate()-s),t.toISOString().split("T")[0]}).reverse().map(e=>{let a=t.filter(s=>s.createdAt.toISOString().split("T")[0]===e).length,l=s.filter(s=>s.createdAt.toISOString().split("T")[0]===e).length;return{date:e,answers:a,stories:l,total:a+l}}),[t,s]);return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(c.mQ,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(c.dr,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(c.SP,{value:"overview",children:"Overview"}),(0,a.jsx)(c.SP,{value:"detailed",children:"Detailed Progress"}),(0,a.jsx)(c.SP,{value:"activity",children:"Activity Timeline"})]}),(0,a.jsxs)(c.nU,{value:"overview",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{className:"pb-2",children:(0,a.jsxs)(r.ll,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),"Questions Answered"]})}),(0,a.jsxs)(r.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:v.overall.questionsAnswered}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["of ",v.overall.totalQuestions," total"]}),(0,a.jsx)(i.E,{value:v.overall.questionsPercentage,className:"mt-2"})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{className:"pb-2",children:(0,a.jsxs)(r.ll,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),"Stories Created"]})}),(0,a.jsxs)(r.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:v.overall.storiesCreated}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[v.overall.storyCategoriesCovered," categories covered"]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{className:"pb-2",children:(0,a.jsxs)(r.ll,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),"Recent Activity"]})}),(0,a.jsxs)(r.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:v.recent.answers+v.recent.stories}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last 30 days"})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{className:"pb-2",children:(0,a.jsxs)(r.ll,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"}),"Completion Rate"]})}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[v.overall.questionsPercentage,"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Overall progress"})]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),"Progress by Company"]}),(0,a.jsx)(r.SZ,{children:"Track your preparation progress for each company"})]}),(0,a.jsx)(r.aY,{className:"space-y-4",children:v.companies.map(e=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(y(e.name))}),(0,a.jsx)("span",{className:"font-medium",children:e.name})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.answered,"/",e.total," questions (",e.percentage,"%)"]})]}),(0,a.jsx)(i.E,{value:e.percentage,className:"h-2"})]},e.name))})]})]}),(0,a.jsxs)(c.nU,{value:"detailed",className:"space-y-6",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5"}),"Progress by Category"]}),(0,a.jsx)(r.SZ,{children:"See how you're progressing across different question categories"})]}),(0,a.jsx)(r.aY,{children:(0,a.jsx)("div",{className:"grid gap-4",children:v.categories.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsxs)(n.C,{variant:"outline",children:[e.answered,"/",e.total]})]}),(0,a.jsx)(i.E,{value:e.percentage,className:"h-2"})]}),(0,a.jsxs)("div",{className:"ml-4 text-2xl font-bold text-primary",children:[e.percentage,"%"]})]},e.name))})})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),"Progress by Difficulty"]}),(0,a.jsx)(r.SZ,{children:"Track your progress across different difficulty levels"})]}),(0,a.jsx)(r.aY,{children:(0,a.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:v.difficulties.map(e=>(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{className:"pb-2",children:(0,a.jsx)(r.ll,{className:"text-lg ".concat(w(e.name)),children:e.name})}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold mb-2",children:[e.percentage,"%"]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:[e.answered," of ",e.total," questions"]}),(0,a.jsx)(i.E,{value:e.percentage,className:"h-2"})]})]},e.name))})})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5"}),"Story Categories Coverage"]}),(0,a.jsx)(r.SZ,{children:"Categories covered by your STAR stories"})]}),(0,a.jsxs)(r.aY,{children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:[...new Set(s.flatMap(e=>e.categories))].map(e=>(0,a.jsx)(n.C,{variant:"secondary",children:e},e))}),0===s.length&&(0,a.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No stories created yet. Start building your STAR story collection!"})]})]})]}),(0,a.jsxs)(c.nU,{value:"activity",className:"space-y-6",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5"}),"7-Day Activity Timeline"]}),(0,a.jsx)(r.SZ,{children:"Your daily preparation activity over the last week"})]}),(0,a.jsx)(r.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[(0,a.jsx)("div",{className:"w-20 text-sm font-medium",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),(0,a.jsxs)("div",{className:"flex-1 flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 text-blue-500"}),(0,a.jsxs)("span",{className:"text-sm",children:[e.answers," answers"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 text-green-500"}),(0,a.jsxs)("span",{className:"text-sm",children:[e.stories," stories"]})]})]}),(0,a.jsx)("div",{className:"text-lg font-bold text-primary",children:e.total})]},e.date))})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-5 w-5"}),"Recent Answers"]})}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[t.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-2 border rounded",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 ".concat(y(e.question.company.name))}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:e.question.questionText}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(n.C,{variant:"outline",className:"text-xs",children:e.question.company.name}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]})]})]},e.id)),0===t.length&&(0,a.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No answers yet"})]})})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5"}),"Recent Stories"]})}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[s.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"p-2 border rounded",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[e.categories.slice(0,2).map(e=>(0,a.jsx)(n.C,{variant:"secondary",className:"text-xs",children:e},e)),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]})]},e.id)),0===s.length&&(0,a.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No stories yet"})]})})]})]})]})]})})}},2759:function(e,s,t){"use strict";t.d(s,{E:function(){return i}});var a=t(7437),l=t(2265),r=t(610),n=t(4508);let i=l.forwardRef((e,s)=>{let{className:t,value:l,...i}=e;return(0,a.jsx)(r.fC,{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,a.jsx)(r.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});i.displayName=r.fC.displayName},2339:function(e,s,t){"use strict";t.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return i},nU:function(){return o}});var a=t(7437),l=t(2265),r=t(1312),n=t(4508);let i=r.fC,c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.aV,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...l})});c.displayName=r.aV.displayName;let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.xz,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...l})});d.displayName=r.xz.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.VY,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});o.displayName=r.VY.displayName}},function(e){e.O(0,[73,596,396,312,25,787,971,117,744],function(){return e(e.s=6321)}),_N_E=e.O()}]);